<html>

<head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.css" />
    
    <style>
        body
        {
            margin: 0%;
            padding: 0%;
              
        }
        .control
        {
            margin-top: 50px;
        }

        </style>
</head>

<body>

    <div class=" container is-half field is-grouped">
        <p class="control is-expanded">
            <input class="input" type="text" placeholder="Find a domain" id="data">
        </p>
        <p class="control">
            <a class="button is-info" onclick="getData()">
                Search
            </a>
        </p>
       
    </div>
    <div class="container"> 
            <ul id="list" class="list has-text-centered">
                      
            </ul>
        </div>

        <!-- <p class="level-item has-text-centered">
                <img src="https://bulma.io/images/bulma-type.png" alt="" style="height: 30px;">
              </p> -->


    <script>
            document.addEventListener('keypress',(event)=>{
                 if(event.key === 'Enter')
                 {
                     getData()
                 }
            })


       async function getData() {
            
        let data = document.getElementById('data').value
          let ulist = document.getElementById('list')
           ulist.innerHTML = " "
          await fetch(`https://rtb.namecheapapi.com/api/search/${data}?session_id=4426258624`)
                .then((response)=>response.json())
                    .then((data)=>{
                 data.ranks.forEach(data=>{
              if(data.status.available)
               { console.log(data.domain)
                var li = document.createElement("li");
                var br = document.createElement("br")
                li.appendChild(document.createTextNode(data.domain))
                li.classList.add("list-item");
                // li.classList.add("level-item")
                
                if(data.status.premium)
                        { 
                            li.classList.add("is-active");
                        }
                        
                       
                
                        ulist.appendChild(li);
                        // ulist.value+='<br><br><br>' 
                         
            }

          })      
      })            
        }

    </script>
</body>


</html>